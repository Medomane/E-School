<div class="page-wrapper chiller-theme" [ngClass]="isToggled?'toggled':''">
  <nav id="sidebar" class="sidebar-wrapper">
    <div class="sidebar-content">
      <div class="sidebar-brand">
        <a routerLink="/home">E-School</a>
        <img src="../assets/logo.png" width="50" alt="logo">
      </div>
      <div class="sidebar-header">
        <div class="user-pic">
          <img class="img-responsive img-rounded" src="../assets/{{auth.isAuthenticated()?auth.getCurrentUser().gender:'female'}}.jpg" alt="User picture">
        </div>
        <div class="user-info">
          <span class="user-name">{{auth.isAuthenticated()?auth.getCurrentUser().firstName:''}}
            <strong>{{auth.isAuthenticated()?auth.getCurrentUser().lastName:''}}</strong>
          </span>
          <span class="user-role">{{(auth.isAuthenticated()?(auth.isAdmin()?"Administrateur":"Utilisateur"):"Utilisateur")}}</span>
        </div>
      </div>
      <div class="sidebar-menu">
        <ul>
          <li class="header-menu">
            <span>Générale</span>
          </li>
          <li class="sidebar-dropdown" [ngClass]="animationState[0]=='in'?'active':''">
            <a href="/" (click)="toggleShowDiv(0)">
              <i class="fa fa-tachometer-alt"></i>
              <span>Tableaux de bord</span>
              <!--<span class="badge badge-pill badge-warning">New</span>-->
            </a>
            <div class="sidebar-submenu" [@slideInOut]="animationState[0]">
              <ul>
                <li>
                  <a routerLink="/dashboard">Dashboard</a>
                </li>
                <li>
                  <a routerLink="/structure">Structure</a>
                </li>
                <li>
                  <a routerLink="/clubs">Clubs</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="sidebar-dropdown" [ngClass]="animationState[1]=='in'?'active':''">
            <a href="#" (click)="toggleShowDiv(1)">
              <i class="fa fa-cogs"></i>
              <span>Paramètres</span>
              <!--<span class="badge badge-pill badge-danger">3</span>-->
            </a>
            <div class="sidebar-submenu" [@slideInOut]="animationState[1]">
              <ul>
                <li>
                  <a routerLink="/admin/professors" *ngIf="auth.isAuthenticated() && auth.isAdmin() ">Professeurs</a>
                </li>
                <li>
                  <a routerLink="/admin/students" *ngIf="auth.isAuthenticated() && auth.isAdmin() ">Etudiants</a>
                </li>
                <li>
                  <a routerLink="/admin/clubs" *ngIf="auth.isAuthenticated() && auth.isAdmin() ">Clubs</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="sidebar-dropdown" [ngClass]="animationState[2]=='in'?'active':''">
            <a href="#" (click)="toggleShowDiv(2)">
              <i class="far fa-calendar-alt"></i>
              <span>Résérvation</span>
            </a>
            <div class="sidebar-submenu" [@slideInOut]="animationState[2]">
              <ul>
                <li>
                  <a routerLink="/classroom">Salles</a>
                </li>
                <li>
                  <a routerLink="/classroomTP">Salles TP</a>
                </li>
                <li>
                  <a routerLink="/amphi">Emphi</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="sidebar-dropdown" [ngClass]="animationState[3]=='in'?'active':''">
            <a href="#" (click)="toggleShowDiv(3)">
              <i class="fas fa-file-contract"></i>
              <span>Demandes</span>
            </a>
            <div class="sidebar-submenu" [@slideInOut]="animationState[3]">
              <ul>
                <li>
                  <a routerLink="/attestation">Attestation de scolarité</a>
                </li>
                <li>
                  <a routerLink="/relevé">Relevé de notes</a>
                </li>
              </ul>
            </div>
          </li>





          <!--
          <li class="sidebar-dropdown">
            <a href="#">
              <i class="far fa-gem"></i>
              <span>Components</span>
            </a>
            <div class="sidebar-submenu">
              <ul>
                <li>
                  <a href="#">General</a>
                </li>
                <li>
                  <a href="#">Panels</a>
                </li>
                <li>
                  <a href="#">Tables</a>
                </li>
                <li>
                  <a href="#">Icons</a>
                </li>
                <li>
                  <a href="#">Forms</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="sidebar-dropdown">
            <a href="#">
              <i class="fa fa-chart-line"></i>
              <span>Charts</span>
            </a>
            <div class="sidebar-submenu">
              <ul>
                <li>
                  <a href="#">Pie chart</a>
                </li>
                <li>
                  <a href="#">Line chart</a>
                </li>
                <li>
                  <a href="#">Bar chart</a>
                </li>
                <li>
                  <a href="#">Histogram</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="sidebar-dropdown">
            <a href="#">
              <i class="fa fa-globe"></i>
              <span>Maps</span>
            </a>
            <div class="sidebar-submenu">
              <ul>
                <li>
                  <a href="#">Google maps</a>
                </li>
                <li>
                  <a href="#">Open street map</a>
                </li>
              </ul>
            </div>
          </li>
          -->
          <li class="header-menu">
            <span>Extra</span>
          </li>
          <li>
            <a href="#" onclick="return false;">
              <i class="fa fa-book"></i>
              <span>Documentation</span>
              <!--<span class="badge badge-pill badge-primary">Beta</span>-->
            </a>
          </li>
          <li>
            <a href="#" onclick="return false;">
              <i class="fa fa-calendar"></i>
              <span>Calendrier</span>
            </a>
          </li>
          <li>
            <a href="#">
              <i class="fa fa-folder"></i>
              <span>Exemples</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="sidebar-footer">
      <a href="#">
        <i class="fa fa-bell"></i>
        <span class="badge badge-pill badge-warning notification">3</span>
      </a>
      <a href="#">
        <i class="fa fa-envelope"></i>
        <span class="badge badge-pill badge-success notification">7</span>
      </a>
      <a href="#">
        <i class="fa fa-cog"></i>
        <span class="badge-sonar"></span>
      </a>
      <a (click)="this.logout()" routerLink="login">
        <i class="fa fa-power-off"></i>
      </a>
    </div>
  </nav>
  <main class="page-content">
    <div class="container-fluid">
      <nav *ngIf="!auth.isAuthenticated()" class="navbar navbar-dark bg-dark">
        <a class="navbar-brand" routerLink="/login">
          <img src="../assets/logo.png" width="30" height="30" class="d-inline-block align-top" alt="">
          E-School
        </a>
      </nav>
      <nav *ngIf="auth.isAuthenticated()" class="navbar navbar-dark bg-dark">
        <div class="btn btn-dark" (click)="isToggled=!isToggled"><i class="fas fa-bars"></i></div>
        <h3 class="m-auto" style="color:white;">{{this.subTitle}}</h3>
      </nav>
      <nav aria-label="breadcrumb" *ngIf="crumb && crumb.length > 0">
        <ol class="breadcrumb">
          <li class="breadcrumb-item" *ngFor="let c of crumb"><a routerLink="{{c.link}}">{{c.name}}</a></li>
        </ol>
      </nav>
      <router-outlet>

      </router-outlet>
    </div>
  </main>
</div>
